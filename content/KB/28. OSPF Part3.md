## LOOPBACK INTERFACES

- **Loopback Interface**: A virtual interface in the router.
- **Always UP/UP**: It remains up unless manually shut down.
- **Independent of Physical Interface**: Provides a consistent IP address for identifying or reaching the router.

![Loopback Interface](28_ospfPart3_01.png)

---

## OSPF NETWORK TYPES

- **OSPF Network Type**: Refers to the connection type between OSPF neighbors (e.g., Ethernet).
- **Three Main OSPF Network Types**:
  - **Broadcast**: Default on Ethernet and FDDI interfaces.
  - **Point-to-Point**: Default on PPP and HDLC interfaces.
  - **Non-Broadcast**: Default on Frame Relay and X.25 interfaces.

üí° CCNA focuses on Broadcast and Point-to-Point types.

---

## OSPF BROADCAST NETWORK TYPE

![Broadcast Network](28_ospfPart3_02.png)

- **Default on Ethernet and FDDI** interfaces.
- **Dynamic Neighbor Discovery**: Uses OSPF ‚ÄúHello‚Äù messages via multicast address 224.0.0.5.
- **DR and BDR Election**:
  - **DR (Designated Router)** and **BDR (Backup Designated Router)** are elected on each subnet.
  - Non-DR/BDR routers become **DROthers**.

![DR/BDR Election](28_ospfPart3_03.png)

**Election Order**:
1. Highest OSPF Interface Priority.
2. Highest OSPF Router ID.

- **Default OSPF Interface Priority** is ‚Äú1‚Äù on all interfaces.
- To change OSPF Priority:

  ```plaintext
  R2(config-if)# ip ospf priority <priority number>
  ```

![DR/BDR Election Process](28_ospfPart3_04.png)

- **Priority of 0**: Router cannot be DR/BDR.

- **Non-preemptive Election**: DR/BDR roles remain until OSPF is reset, interface fails, or is shut down.

![Non-preemptive Election](28_ospfPart3_05.png)

- **Full Adjacency**: Only with DR and BDR. DROthers do not exchange LSAs with each other, reducing LSA floods.

üí° **Messages to DR/BDR**: Multicast to 224.0.0.6.

![Full Adjacency with DR/BDR](28_ospfPart3_06.png)

---

## OSPF POINT-TO-POINT NETWORK TYPE

![Point-to-Point Network](28_ospfPart3_08.png)

- **Default on Serial Interfaces** using PPP and HDLC encapsulations.
- **Dynamic Neighbor Discovery**: Uses OSPF ‚ÄúHello‚Äù messages via multicast address 224.0.0.5.
- **No DR/BDR Election**: As it‚Äôs a direct connection, the two routers form a full adjacency with each other.

---

### Serial Interfaces

![Serial Interface](28_ospfPart3_09.png)

- **DCE and DTE**: One side of the serial connection functions as DCE, the other as DTE. 
- **Clock Rate**: Only the DCE side specifies the clock rate (speed) of the connection.

- **Ethernet Interfaces**: Use the ‚Äúspeed‚Äù command for operating speed.
- **Serial Interfaces**: Use the ‚Äúclock rate‚Äù command.

  ```plaintext
  R1(config-if)# clock rate <bits-per-second>
  ```

![Clock Rate Configuration](28_ospfPart3_10.png)

- **Encapsulation Type**: Must match on both ends, or the interface will go down.

![Encapsulation Type](28_ospfPart3_11.png)

![Serial Encapsulation](28_ospfPart3_12.png)

**Summary of Serial Interfaces**:
- Default encapsulation is **HDLC**.
- Configure **PPP encapsulation** with:

  ```plaintext
  R1(config-if)# encapsulation ppp
  ```

- Identify which side is DCE/DTE:

  ```plaintext
  R1# show controllers <interface-id>
  ```

---

![OSPF Network Type Configuration](28_ospfPart3_13.png)

![Network Type Example](28_ospfPart3_14.png)

- Configure the OSPF Network Type on an Interface:

  ```plaintext
  R1(config-if)# ip ospf network <network type>
  ```

üí° **Note**: Not all network types work on all link types (e.g., a serial link cannot use the Broadcast network type).

![Network Type Configuration Example](28_ospfPart3_15.png)

---

## OSPF NEIGHBOR/ADJACENCY REQUIREMENTS

1. **Area Number Must Match**.
2. **Interfaces Must Be in the Same Subnet**.
3. **OSPF Process Must Not Be Shut Down**.

![Area Number](28_ospfPart3_16.png)

4. **OSPF Router ID Must Be Unique**.

![Unique Router ID](28_ospfPart3_17.png)

5. **Hello and Dead Timers Must Match**.
6. **Authentication Settings Must Match**.

![Matching Authentication](28_ospfPart3_18.png)

---

## SPECIAL REQUIREMENTS

7. **IP MTU Settings Must Match**.
   - IP MTU: Maximum size of an IP packet that can be sent from an interface.
   - If settings don‚Äôt match, routers can still become OSPF neighbors, but OSPF will not operate properly.

8. **OSPF Network Type Must Match**.
   - Mismatched types will appear to work, but neighbors won‚Äôt appear in routing information.

---

## OSPF LSA TYPES

- The OSPF LSDB (Link-State Database) is made up of LSAs (Link-State Advertisements).
- **Key LSA Types for CCNA**:
  - **Type 1 (Router LSA)**: Generated by every OSPF router, identifies the router using its Router ID, and lists networks attached to the router‚Äôs OSPF-activated interfaces.
  - **Type 2 (Network LSA)**: Generated by the DR of each multi-access network (e.g., Broadcast network type), lists routers attached to the multi-access network.
  - **Type 5 (AS-External LSA)**: Generated by ASBRs to describe routes to destinations outside of the AS (OSPF domain).

---

 [[Network Knowledge Base|üîô Retour √† l'index ]] | [[36. Layer 2 Discovery Protocols CDP and LLDP#Layer 2 Discovery Protocols CDP and LLDP|‚¨ÜÔ∏è Retour en haut]] 